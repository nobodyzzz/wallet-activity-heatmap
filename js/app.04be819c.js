(function(){"use strict";var t={877:function(t,e,a){var n=a(2856),l=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("section",{staticClass:"section"},[e("div",{staticClass:"container"},[e("h1",{staticClass:"title"},[t._v("Wallet Activity")]),e("WalletHeatmap")],1)])])},i=[],r=function(){var t=this,e=t._self._c;return e("div",[e("b-field",{attrs:{label:"Select Wallet"}},[e("b-select",{attrs:{placeholder:"Choose a wallet"},on:{change:t.updateHeatmap},model:{value:t.selectedWallet,callback:function(e){t.selectedWallet=e},expression:"selectedWallet"}},t._l(t.wallets,(function(a){return e("option",{key:a,domProps:{value:a}},[t._v(t._s(a))])})),0)],1),e("calendar-heatmap",{attrs:{"tooltip-unit":"swaps","no-data-text":"no swaps","start-date":t.startDate,"end-date":t.endDate,values:t.heatmapData,"color-scale":t.colorScale,"tooltip-enabled":!0}}),e("b-divider",{staticClass:"my-4"}),e("b-field",{attrs:{label:"Average Buy-Sell Time"}},[e("p",[t._v(t._s(t.averageBuySellTime))])])],1)},o=[],s=(a(7642),a(8004),a(3853),a(5876),a(2475),a(5024),a(1698),a(9358)),c=a(417),u={name:"WalletHeatmap",components:{"calendar-heatmap":s.CalendarHeatmap},data(){return{wallets:[],selectedWallet:"",allData:[],heatmapData:[],averageBuySellTime:"N/A",startDate:"",endDate:"",colorScale:["#ebedf0","#c6e48b","#7bc96f","#239a3b","#196127"]}},created(){this.fetchData()},methods:{async fetchData(){try{const t=await c.A.get("/wallet-activity-heatmap/test_wallet_events_updated.json"),e=t.data;this.allData=e,this.wallets=[...new Set(e.map((t=>t.wallet_address)))],this.wallets.length&&(this.selectedWallet=this.wallets[0]);const a=e.map((t=>new Date(t.timestamp))),n=new Date(Math.min(...a)),l=new Date(Math.max(...a));this.startDate=n.toISOString().split("T")[0],this.endDate=l.toISOString().split("T")[0],this.updateHeatmap()}catch(t){console.error("Error fetching data:",t)}},updateHeatmap(){if(!this.selectedWallet)return this.heatmapData=[],void(this.averageBuySellTime="N/A");const t=this.allData.filter((t=>t.wallet_address===this.selectedWallet)),e={};t.forEach((t=>{const a=t.timestamp.split("T")[0];e[a]||(e[a]=0),t.invested_amount>0&&(e[a]+=1),t.earned_amount>0&&(e[a]+=1)})),this.heatmapData=Object.keys(e).map((t=>({date:t,count:e[t]}))),this.calculateAverageBuySellTime(t)},calculateAverageBuySellTime(t){const e=t.filter((t=>t.invested_amount>0)).map((t=>new Date(t.timestamp))).sort(((t,e)=>t-e)),a=t.filter((t=>t.earned_amount>0)).map((t=>new Date(t.timestamp))).sort(((t,e)=>t-e));if(0===e.length||0===a.length)return void(this.averageBuySellTime="N/A");let n=0,l=0,i=0;if(e.forEach((t=>{while(i<a.length&&a[i]<=t)i++;if(i<a.length){const e=a[i],r=(e-t)/864e5;n+=r,l++}})),0===l)return void(this.averageBuySellTime="N/A");const r=(n/l).toFixed(2);this.averageBuySellTime=`${r} days`},tooltipFormat(t,e){console.log("date",t),console.log("count",e);const a=this.allData.filter((e=>e.timestamp.split("T")[0]===t&&e.wallet_address===this.selectedWallet));if(a.length){let e=0,n=0,l=0,i=0;return a.forEach((t=>{t.invested_amount>0&&(e+=1,l+=t.invested_amount),t.earned_amount>0&&(n+=1,i+=t.earned_amount)})),`${t}:\n  Buys: ${e},\n  Sells: ${n}\n  Spent: ${l.toFixed(2)},\n  Earned: ${i.toFixed(2)}`}return`${t}: No Activity`}}},d=u,p=a(1656),f=(0,p.A)(d,r,o,!1,null,"3609fa18",null),h=f.exports,m={name:"App",components:{WalletHeatmap:h}},v=m,y=(0,p.A)(v,l,i,!1,null,null,null),g=y.exports,w=a(413);a(1457);n.Ay.use(w.Ay),n.Ay.config.productionTip=!1,new n.Ay({render:t=>t(g)}).$mount("#app")}},e={};function a(n){var l=e[n];if(void 0!==l)return l.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,a),i.exports}a.m=t,function(){var t=[];a.O=function(e,n,l,i){if(!n){var r=1/0;for(u=0;u<t.length;u++){n=t[u][0],l=t[u][1],i=t[u][2];for(var o=!0,s=0;s<n.length;s++)(!1&i||r>=i)&&Object.keys(a.O).every((function(t){return a.O[t](n[s])}))?n.splice(s--,1):(o=!1,i<r&&(r=i));if(o){t.splice(u--,1);var c=l();void 0!==c&&(e=c)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[n,l,i]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};a.O.j=function(e){return 0===t[e]};var e=function(e,n){var l,i,r=n[0],o=n[1],s=n[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(l in o)a.o(o,l)&&(a.m[l]=o[l]);if(s)var u=s(a)}for(e&&e(n);c<r.length;c++)i=r[c],a.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return a.O(u)},n=self["webpackChunkwallet_activity_heatmap"]=self["webpackChunkwallet_activity_heatmap"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],(function(){return a(877)}));n=a.O(n)})();
//# sourceMappingURL=app.04be819c.js.map